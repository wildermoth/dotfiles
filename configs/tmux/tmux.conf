# Use Alt-; as prefix
set -g prefix C-t;
bind C-t; send-prefix

set-window-option -g xterm-keys on

unbind -n C-Left
unbind -n C-Right

# Enable mouse support
set -g mouse on
set -g history-limit 100000

# Better colors - enable true color and vibrant colors
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",alacritty*:Tc"
set -as terminal-overrides ",*256col*:Tc"
set -ga terminal-overrides ",*256col*:RGB"

# Enable focus events for vim
set -g focus-events on

# Remove escape key delay for vim
set -sg escape-time 0

# Start window numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase status line length
set -g status-left-length 20
set -g status-right-length 100

# Status bar styling - vibrant colors
set -g status-style "bg=#1e1e2e,fg=#cdd6f4"
set -g status-left "#[fg=#89b4fa,bg=#313244,bold] #S #[default] "
set -g status-right "#[fg=#a6e3a1]%H:%M #[fg=#f5c2e7]%d-%b-%y "

# Window status styling
set -g window-status-current-style "fg=#89b4fa,bg=#313244,bold"
set -g window-status-style "fg=#6c7086"
set -g window-status-format " #I:#W "
set -g window-status-current-format " #I:#W "

# Pane border styling - more visible colors
set -g pane-border-style "fg=#6c7086"
set -g pane-active-border-style "fg=#89b4fa"

# Message styling
set -g message-style "bg=#313244,fg=#cdd6f4"
set -g message-command-style "bg=#313244,fg=#cdd6f4"

# Copy mode styling
set -g mode-style "bg=#313244,fg=#cdd6f4"



# New Shift+Alt bindings (works on Mac as Shift+Option, Windows as Shift+Alt)
bind -n M-_ split-window -v -c "#{pane_current_path}"
bind -n M-| split-window -h -c "#{pane_current_path}"
# Try multiple backspace variants for compatibility
bind -n S-M-Left  select-pane -L
bind -n S-M-Right select-pane -R
bind -n S-M-Up    select-pane -U
bind -n S-M-Down  select-pane -D

bind -n S-M-Pageup new-window -c "#{pane_current_path}"
bind -n S-M-Pagedown kill-pane

bind -n S-M-Home previous-window
bind -n S-M-End next-window

# Switch to persistent sessions with Alt + shifted numbers (Mac: Shift+Option+6789 sends +&*()
bind -n M-& run-shell "$HOME/bin/tmux-session-persistent dotfiles"
bind -n M-* run-shell "$HOME/bin/tmux-session-persistent gweb-diamond-valley"
bind -n M-( run-shell "$HOME/bin/tmux-session-persistent placeholder-9"
bind -n 'M-)' run-shell "$HOME/bin/tmux-session-persistent placeholder-0"

# Tmux sessionizer - Control-f
bind -n C-f run-shell "tmux neww $HOME/bin/tmux-sessionizer"

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"
